<!DOCTYPE html>
<html lang="en">
<head>
<title>Visualize Stat</title>
<meta charset="utf-8" />
<link rel="stylesheet" href="/o/static/css/site.css" type="text/css" />
<link rel="stylesheet" href="/o/static/css/pikaday.css">
<script type="text/javascript" src="/o/static/js/knockout.js"></script>
<script type="text/javascript" src="/o/static/js/underscore.js"></script>
<script type="text/javascript" src="/o/static/js/zepto.js"></script>
<script type="text/javascript" src="/o/static/js/moment.js"></script>
<script type="text/javascript">
  function unix_to_calendar(tick) { return moment.unix(tick).calendar(); }
  function seconds_to_string(seconds) {
    return (seconds === 1 
      ? "one second"
      : moment.duration(seconds, 'seconds').humanize()
    );
  }
</script>
<script type="text/javascript" src="/o/static/js/pikaday.js"></script>
<script type="text/javascript" src="/o/static/js/d3/d3.js"></script>
<script type="text/javascript" src="/o/static/js/pow_chart.js"></script>
<script type="text/javascript" src="/o/static/js/main.js"></script>
</head>
<body>
<h1>Visualize <span data-bind="text: stat_name">Stat</span></h1>

<div class="info" data-bind="with: stat_data">
  <ul>
    <li>name: <span data-bind="text: name"></span></li>
    <li>maxRetention:
      <span data-bind="text: seconds_to_string(maxRetention)"></span>
      (<span data-bind="text: maxRetention"></span>)
    </li>
    <li>xFilesFactor: <span data-bind="text: xFilesFactor"></span></li>
  <li>aggregationMethod: <span data-bind="text: aggregationMethod"></span></li>
  </ul>
  <div class="per_archive" data-bind="foreach: archives">
    <ul>
      <li>retention:
        <span data-bind="text: seconds_to_string(retention)"></span>
        (<span data-bind="text: retention"></span>)
      </li>
      <li>secondsPerPoint:
       <span data-bind="text: seconds_to_string(secondsPerPoint)"></span>
       (<span data-bind="text: secondsPerPoint"></span>)
      </li>

      <li>Most recent: <span data-bind="text: $root.tt(most_recent)"></span></li>
      <li>Oldest: <span data-bind="text: $root.tt(oldest)"></span></li>
      <li>Number of Samples: <span data-bind="text: points.length"></span></li>
      <a href="#" data-bind="click: $root.view_archive">See Graph</a>
    </ul>
  </div>
</div>

<div><svg class="chart"></svg></div>

<div data-bind="foreach: stat_names">
  <a class="stat" href="#" data-bind="text: $data, click: $parent.getstat"></a>
</div>

</body>
</html>